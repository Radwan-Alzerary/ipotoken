<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Registered Devices</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  h1 {
    margin-bottom: 20px;
  }
  table {
    border-collapse: collapse;
    width: 100%;
    max-width: 800px;
  }
  table, th, td {
    border: 1px solid #ccc;
  }
  th, td {
    padding: 12px;
    text-align: left;
  }
  th {
    background: #f2f2f2;
  }
</style>
</head>
<body>
  <h1>Registered Devices</h1>
  <table>
    <thead>
      <tr>
        <th>IP Address</th>
        <th>Token</th>
        <th>Device Key</th>
        <th>Date Registered</th>
      </tr>
    </thead>
    <tbody>
      <% if (users.length > 0) { %>
        <% users.forEach(function(user) { %>
          <tr>
            <td><%= user.ip %></td>
            <td><%= user.token %></td>
            <td><%= user.deviceKey %></td>
            <td><%= user.timestamp.toLocaleString() %></td>
          </tr>
        <% }) %>
      <% } else { %>
        <tr>
          <td colspan="4">No registered devices found.</td>
        </tr>
      <% } %>
    </tbody>
  </table>
</body>
</html>
